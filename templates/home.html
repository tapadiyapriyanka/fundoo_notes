{% extends "base.html" %}
{% block content %}

<div class="container">
<div class="row grid">

{% for post in object_list %}
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-4 card grid-item">
      <div class="thumbnail">
        {# <img src="https://media.istockphoto.com/photos/adhesive-note-on-desk-picture-id517877110" class=""> #}
        <div class="caption">
        <h2><a href="{% url 'note_edit' post.pk %}" data-toggle="modal" data-target="#myModal">
            <h1>{{post.pk}}</h1>
            {{ post.title }}</a></h2>
                <div id="myModal" class="modal fade" role="dialog">
                  <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                      {# <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Update Note</h4>
                      </div> #}
                      <div class="modal-body">
                      </div>
                      <div class="modal-footer">
                        {# <button type="button" class="btn btn-default" id='sbt_id' data-dismiss="modal">Close</button> #}
                      </div>
                    </div>
                  </div>
                </div>

          <p>{{ post.description }}</p>
        </div>

        <div class="caption card-footer">
          <ul class="list-inline">
              <medium><a href="{% url 'note_delete' post.pk %}" >Delete</a></medium>
              <medium><a href="{% url 'note_pinned' post.pk %}" >Pin</a></medium>
	          <medium><a href="{% url 'note_archived' post.pk %}" >Archive</a></medium>
              <medium><a href="{% url 'note_lable' post.pk %}" >Lable</a></medium>
              <medium><a href="{% url 'note_reminder' post.pk %}" >Reminder</a></medium>
              <medium><a href="{% url 'note_collaborate' post.pk %}" >colaborate</a></medium>
            {# <li><i class="fa fa-user"></i></li> #}
          </ul>
        </div>
      </div>
    </div>
{% endfor %}
<!-- Modal -->


</div><!-- row -->
</div> <!-- container grid -->
{% endblock content%}

{% block script %}
<script type="text/javascript">
// $("#ajax_update").ajaxSubmit(url: '/create/', type: 'post'})
// $.post('/create/', $('#theForm').serialize())
$(document).ready(function(){
    $('body').on('click', '#submit_id', function() {
        console.log("helllo");
        var $form = $('#ajax_update');
        console.log("form = ",$form);
        var formdata = $form.serialize();
        $.post($form.attr('action'), formdata, function(result) {
            if(result.status){
                $('#success_message').slideDown({ opacity: "show" }, "slow")
                $('.alert-error').slideUp({ opacity: "hide" }, "slow")
            }else{
                $('#success_message').slideUp({ opacity: "hide" }, "slow")
                $('.alert-error').slideDown({ opacity: "show" }, "slow");
                $('.message-error').html(result.message);
            }
        }, 'json');
    });
});
// $(function() {
//     $('#submit_id').on('click',function(){
//         alert("hello");
//         var $form = $('#ajax_update');
//         var formdata = $form.serialize()
//         $.ajax({
//             type: 'POST',
//             url : '/note_update/',
//             data : formdata
//         });
//     });




</script>

{% endblock %}
